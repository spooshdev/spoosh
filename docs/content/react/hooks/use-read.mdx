---
title: useRead
description: Fetch data with automatic caching and refetching
---

Fetch data with automatic caching and refetching. The callback **calls** the API method.

## Basic Usage

```typescript
function UserList() {
  const { data, loading, error, refetch } = useRead(
    (api) => api("users").GET()
  );

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;

  return (
    <ul>
      {data?.map((user) => <li key={user.id}>{user.name}</li>)}
    </ul>
  );
}
```

## With Query Parameters

```typescript
const { data, input } = useRead(
  (api) => api("users").GET({ query: { page: 1, limit: 10 } }),
  {
    enabled: isReady,
    tags: ["all", "custom-tag"],
  }
);
```

## Tag Modes

```typescript
// Mode only - 'all' generates full hierarchy
useRead((api) => api("users/:id/posts").GET({ params: { id: "123" } }), {
  tags: "all", // ['users', 'users/123', 'users/123/posts']
});

// Mode only - 'self' generates only exact path
useRead((api) => api("users/:id/posts").GET({ params: { id: "123" } }), {
  tags: "self", // ['users/123/posts']
});

// Mode only - 'none' generates no tags
useRead((api) => api("posts").GET(), { tags: "none" }); // []

// Custom tags only - replaces auto-generated tags
useRead((api) => api("posts").GET(), {
  tags: ["custom", "dashboard"], // ['custom', 'dashboard']
});

// Mode + custom tags - 'all' mode combined with custom tags
useRead((api) => api("users/:id/posts").GET({ params: { id: "123" } }), {
  tags: ["all", "dashboard"], // ['users', 'users/123', 'users/123/posts', 'dashboard']
});

// Mode + custom tags - 'self' mode combined with custom tags
useRead((api) => api("users/:id/posts").GET({ params: { id: "123" } }), {
  tags: ["self", "dashboard"], // ['users/123/posts', 'dashboard']
});
```

## Options

| Option           | Type                                    | Default | Description                    |
| ---------------- | --------------------------------------- | ------- | ------------------------------ |
| `enabled`        | `boolean`                               | `true`  | Whether to fetch automatically |
| `tags`           | `'all' \| 'self' \| 'none' \| string[]` | `'all'` | Tag mode or custom tags        |
| + plugin options | -                                       | -       | Options from installed plugins |

## Returns

| Property   | Type                  | Description                             |
| ---------- | --------------------- | --------------------------------------- |
| `data`     | `TData \| undefined`  | Response data                           |
| `error`    | `TError \| undefined` | Error if request failed                 |
| `loading`  | `boolean`             | True during initial load                |
| `fetching` | `boolean`             | True during any fetch                   |
| `refetch`  | `() => Promise`       | Manually trigger refetch                |
| `abort`    | `() => void`          | Abort current request                   |
| `input`    | `object`              | The request input (query, body, params) |
| `meta`     | `object`              | Plugin-provided metadata                |
